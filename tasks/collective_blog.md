# Задание на практику

Разработать простой коллективный блог по типу habrahabr.ru

### Требования и функционал

* Авторизация и регистрация
* Флаг у аккаунта "администратор", позволяющий такому пользователю редактировать любой пост

### Обязательные технологии

* Node.js 8.2, **ОБЯЗАТЕЛЬНО** использовать async и await
* Bootstrap 3
* PostgreSQL и Sequelize
* Handlebars или EJS
* Passport.js
* Git и GitHub
* ESLint

Желательно (прежде всего, для вашего же удобства при разработке):

* Ubuntu или любая другая UNIX-подобная ОС (виртуальная машина тоже подойдет)
* Atom (поскольку работать вы будете с Git, а интеграция атома и гита/гитхаба - божественная)

### Как я хочу, чтобы это выглядело

Список страниц:

* Регистрация
* Авторизация
* Главная
* Пост
* Создание и редактирование поста
* Карточка автора

Страница создания и редактирования поста должна проверять, авторизован ли пользователь

#### Регистрация (/register)

Поля "ФИО", E-Mail, пароль, повтор пароля и кнопка "зарегистрироваться"

Сообщения об ошибках выводятся в красивых штуках с красным фоном.

Проверки для полей:

На клиенте и на сервере:

* Отсутствие незаполненных полей
* E-Mail - действительно E-Mail

Только на сервере:

* Пароль и его повтор - совпадают
* Не авторизован ли уже пользователь

ВАЖНО: Все клиентские валидации должны быть сделаны **без использования javascript**

После регистрации пользователя должно автоматически авторизовывать на сайте

#### Авторизация (GET/POST: /auth)

Поля E-Mail и пароль, сообщения об ошибках

Проверки для полей (клиент+сервер):

* Отсутствие незаполненных полей
* E-Mail - действительно E-Mail

Все точно так же, все клиентские валидации - без JS

Проверки на беке:

* Проверка на то, не авторизован ли уже пользователь

#### Главная (GET /; GET /page/:page)

На этой странице выводится по 10 постов, отсортированные по дате создания (старые - внизу, новые - вверху).

Пост:

* Заголовок
* Автор (ссылка на карточку) и дата написания
* Описание
* Кнопка "подробнее"

Внизу страницы - кнопки "назад" и "вперёд", номер текущей страницы, номера-ссылки одной предыдущей и одной последующей.

Требования к пагинации:

* Если следующей страницы нет - кнопка "вперёд" и ссылка-номер следующей не показываются
* Если предыдущей страницы нет (первая) - кнопка "назад" и ссылка-номер предыдущей не показываются

#### Пост (GET /post/:id)

Страница поста

* Заголовок
* Автор (ссылка на карточку) и дата написания
* Описание
* Разделитель
* Основной текст

Если текущий пользователь - автор этого поста, либо админ, то:

* Кнопка "редактировать"
* Кнопка "удалить"

#### Создание и редактирование (GET/POST /post/new; GET /post/:id/edit; PUT /post/:id)

На бекенде это должны быть две разные страницы, но работать они должны с одними и теми же шаблонами.

Поля: заголовок, описание, текст

Сообщения об ошибках

Проверки на фронте и беке:

* Заголовок и описание - обязательны, текст - нет

Проверки на беке:

* Проверка на то, что пользователь действительно автор поста или администратор

Разрешено использование следующих html-тегов: p, h1-h6, img, b, i, blockquote, pre, a.

У тега <a> разрешено использовать аттрибут href, у тебя img - alt и src.

Все остальные теги и аттрибуты должны фильтроваться, с этим вам поможет пакет sanitize-html.

#### Карточка автора (GET /author/:id)

Имя и список ссылок на посты, отсортированных по дате создания поста, без пагинации

### Чекпоинты

Чекпоинты - это те этапы, на выполнение которых мы будем смотреть. Крайне рекомендуется приступать к выполнению следующего этапа ТОЛЬКО после того, как мы успешно примем предыдущий
